<%@page import="java.io.IOException"%>
<%@page import="com.oreilly.servlet.MultipartRequest"%>
<%@ page language="java" contentType="text/html; charset=EUC-KR"
    pageEncoding="utf-8"%>
<% /*
	클라이언트가 전송한 제목 텍스트 및 바이너리 파일을 서버의 특정 디렉토리에 저장해보자
	이런 처리를 업로드라 한다!!
*/ 
	
	request.setCharacterEncoding("utf-8"); //파라미터에 한글깨지지않도록 인코딩 처리
	//String msg = request.getParameter("msg"); //String 메시지 받기
	//request.getParameter("photo");
	//이미지는 글씨가 아닌 바이너리 파일이므로 request.getParamter 로는 받을수 없다!!
	//따라서 IO 네트워크등의 처리를 해야하는데 이 자체만으로도 하나의 개발 프로젝트일 것이다
	//해결책? 누군가가가 만든 라이브러리를 이용해서 개발시간을 단축하자!!
	//현재 우리가 선택한 라이브러리는 cos.jar 라는 oreilly 라는 출판사에서 제작한 컴포넌트이다!!
	String saveDriectory = "C:/workspace/javaEE_workspace/BoardApp/WebContent/data"; //하드디스크의 물리적 full 경로를 명시해야한다
	int maxSize = 2*1024*1024 ; //2M byte 
	try{
	MultipartRequest multi = new MultipartRequest(request,saveDriectory);
	//업로드 컴포넌트를 이용할 경우 스트링 파라미터도 업로드 컴포넌트를 사용해야한다 
	String msg = multi.getParameter("msg");
	out.print("님이 전송한 메시지는 : " + msg);
	}catch(IOException e){
		e.printStackTrace();
	}


%>